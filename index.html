<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>For Disha ‚ù§Ô∏è</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700;900&family=Bangers&family=Pacifico&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  
  <style>
    /* CORE RESET */
    * { box-sizing: border-box; }
    body {
      background-color: #ffe6f2;
      font-family: 'Nunito', sans-serif;
      margin: 0;
      height: 100vh;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: background-color 0.5s ease;
    }

    /* CONTAINER */
    #container {
      width: 90%;
      max-width: 400px;
      height: auto;
      text-align: center;
      position: relative;
    }

    /* SCREENS */
    .screen {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      width: 100%;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 30px 20px;
      border-radius: 20px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.2);
      opacity: 0;
      pointer-events: none;
      transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .screen.active {
      opacity: 1;
      pointer-events: all;
      transform: translate(-50%, -50%) scale(1);
    }

    /* PHOTOS */
    .photo-frame {
      background: white;
      padding: 8px 8px 25px 8px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.15);
      border-radius: 4px;
      margin-bottom: 15px;
      transform: rotate(-2deg);
      transition: transform 0.3s;
    }
    .photo-frame img {
      width: 100%;
      max-height: 250px;
      object-fit: cover;
      display: block;
    }

    /* TEXT STYLES */
    h1 { margin: 10px 0; line-height: 1.2; }
    
    .dramatic-text {
      font-family: 'Bangers', cursive;
      font-size: 2.5rem;
      color: #ff3333;
      text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
      letter-spacing: 1px;
    }

    .sweet-text {
      font-family: 'Pacifico', cursive;
      color: #d63384;
      font-size: 2rem;
    }

    .final-text {
      font-family: 'Nunito', sans-serif;
      font-weight: 900;
      color: #2c3e50;
      font-size: 1.5rem;
      text-transform: uppercase;
    }

    p { font-size: 1.2rem; color: #555; font-weight: 700; margin-bottom: 20px; }

    /* BUTTONS */
    .btn {
      background: #ff66b2;
      color: white;
      border: none;
      padding: 12px 30px;
      font-size: 1.1rem;
      border-radius: 50px;
      font-weight: 800;
      cursor: pointer;
      box-shadow: 0 5px 0 #cc4d8a;
      transition: transform 0.1s;
      margin-top: 10px;
    }
    .btn:active { transform: translateY(5px); box-shadow: none; }
    .btn-red { background: #ff4d4d; box-shadow: 0 5px 0 #cc0000; }

    /* --- SLIDER GAME STYLES --- */
    .slider-wrapper {
      width: 100%;
      margin: 20px 0;
      position: relative;
      padding: 0 10px;
    }

    .location-labels {
      display: flex;
      justify-content: space-between;
      font-weight: 900;
      color: #888;
      font-size: 0.9rem;
      margin-bottom: 5px;
    }

    input[type=range] {
      -webkit-appearance: none;
      width: 100%;
      height: 15px;
      border-radius: 10px;
      background: linear-gradient(to right, #ddd 0%, #ddd 100%);
      outline: none;
      transition: background 0.2s;
      border: 2px solid #eee;
    }

    /* The Draggable Plane */
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #fff;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      /* Plane Icon */
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23d63384'%3E%3Cpath d='M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z'/%3E%3C/svg%3E");
      background-size: 70%;
      background-repeat: no-repeat;
      background-position: center;
      transform: rotate(90deg); /* Point plane to right */
    }

    #distance-display {
      font-size: 1.8rem;
      color: #d63384;
      font-weight: 900;
      margin-top: 15px;
    }
    
    .sub-distance {
      font-size: 0.9rem;
      color: #888;
    }

    /* GALLERY FOR FINAL SCREEN */
    .gallery { display: flex; gap: 10px; width: 100%; justify-content: center; }
    .gallery .photo-frame { width: 48%; }

    /* ANIMATIONS */
    .shake { animation: shake 0.5s infinite; }
    @keyframes shake {
      0% { transform: translate(1px, 1px) rotate(0deg); }
      50% { transform: translate(-1px, 2px) rotate(-1deg); }
      100% { transform: translate(1px, -2px) rotate(-1deg); }
    }
  </style>
</head>
<body>

  <div id="container">

    <div class="screen active" id="screen-1">
      <h1 class="dramatic-text shake">HOW CAN YOU??</h1>
      <p style="font-size: 1.4rem; color: #333;">
        HOW CAN YOU be so far away during valentines? <br><br>
        <span style="color: red; font-weight: 900; font-size: 1.8rem; border: 3px solid red; padding: 5px 15px; transform: rotate(-3deg); display: inline-block;">
          NOT ALLOWED üö´
        </span>
      </p>
      <button class="btn btn-red" onclick="nextScreen(2)">I'm sowwwy ü•∫</button>
    </div>

    <div class="screen" id="screen-2">
      <div class="photo-frame">
        <img src="photo1.jpg.jpeg" onerror="this.src='https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExM2Q0b3J6bWF2aG1tOWZ6bWF2aG1tOWZ6bWF2aG1tOWZ6bWF2aG1tOSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o7TKoWXm3okO1kgHC/giphy.gif'">
      </div>
      <h1 class="sweet-text">It's okie...</h1>
      <p>I still love you my dishu babyyy <br> ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</p>
      <button class="btn" onclick="nextScreen(3)">But I have a mission for you... ‚úàÔ∏è</button>
    </div>

    <div class="screen" id="screen-3">
      <h1 class="sweet-text">Come Home!</h1>
      <p>Drag the plane to close the gap!</p>
      
      <div class="slider-wrapper">
        <div class="location-labels">
          <span>DELHI üèõÔ∏è</span>
          <span>CHENNAI üåä</span>
        </div>
        
        <input type="range" min="0" max="100" value="0" id="distance-slider" oninput="updateDistance()">
      </div>
      
      <div id="distance-display">2200 km</div>
      <div class="sub-distance">Distance Remaining</div>
    </div>

    <div class="screen" id="screen-4">
      <div class="gallery">
        <div class="photo-frame" style="transform: rotate(-3deg);">
          <img src="photo2.jpg.jpeg" onerror="this.src='https://media.giphy.com/media/26BRv0ThflsHCqDrG/giphy.gif'">
        </div>
        <div class="photo-frame" style="transform: rotate(3deg);">
          <img src="photo3.jpg.jpeg" onerror="this.src='https://media.giphy.com/media/3o7TKoWXm3okO1kgHC/giphy.gif'">
        </div>
      </div>
      
      <h1 class="final-text">HAPPY 2 YEARS!</h1>
      <p style="font-size: 1.3rem; color: #d63384; line-height: 1.5;">
        3 MONTHS AND YOU'RE <br> WITH ME FOR GOOD! <br> üè†‚úàÔ∏èü•Ç
      </p>
      <div style="font-size: 2.5rem;">üíçüíñ‚ú®</div>
    </div>

  </div>

  <script>
    function nextScreen(screenNumber) {
      document.querySelectorAll('.screen').forEach(s => {
        s.classList.remove('active');
      });

      const target = document.getElementById('screen-' + screenNumber);
      target.classList.add('active');

      // Theme Colors
      if (screenNumber === 1) {
        document.body.style.backgroundColor = "#ffcccc"; 
      } else {
        document.body.style.backgroundColor = "#ffe6f2";
      }

      if (screenNumber === 4) {
        triggerConfetti();
      }
    }

    // SLIDER LOGIC
    function updateDistance() {
      const slider = document.getElementById('distance-slider');
      const display = document.getElementById('distance-display');
      const percentage = slider.value;

      // 2200 km total distance
      // If slider is at 0%, distance is 2200. If slider is 100%, distance is 0.
      const kmLeft = Math.floor(2200 - (percentage * 22));

      display.innerText = kmLeft + " km";

      // Color change logic (Pink fills the bar as she drags)
      slider.style.background = `linear-gradient(to right, #ff66b2 ${percentage}%, #ddd ${percentage}%)`;

      // Check for success
      if (percentage == 100) {
        display.innerText = "WELCOME HOME! ‚ù§Ô∏è";
        slider.disabled = true;
        
        setTimeout(() => {
          nextScreen(4);
        }, 800);
      }
    }

    function triggerConfetti() {
      const duration = 3000;
      const end = Date.now() + duration;
      (function frame() {
        confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 } });
        confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 } });
        if (Date.now() < end) requestAnimationFrame(frame);
      }());
    }
  </script>
</body>
</html>
